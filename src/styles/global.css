@import "tailwindcss";

/* ==========================================
   テーマ定義（Tailwind CSS v4）
   ========================================== */
@theme {
	/* アクセントカラー */
	--color-accent: #D9A441;
	--color-accent-hover: #E3B55C;
	--color-accent-active: #B88A2E;
	--color-accent-muted: #BFA76A;

	/* 状態カラー */
	--color-warning: #C9A24D;
	--color-error: #C25C5C;

	/* 背景とテキスト */
	--color-bg-base: #333333;
	--color-text-primary: #DDDDDD;
	--color-text-secondary: #AAAAAA;
	--color-bg-card: #2A2A2A;
	--color-border: #4A4A4A;

	/* シャドウ */
	--shadow-card: 0 2px 6px rgba(0, 0, 0, 40%), 0 8px 24px rgba(0, 0, 0, 30%), 0 16px 32px rgba(0, 0, 0, 30%);

	/* フォント */
	--font-display: "Murecho", sans-serif;
}

/* ==========================================
   ベーススタイル
   ========================================== */
@layer base {
	body {
		@apply m-0 p-0 bg-bg-base text-text-primary break-words leading-relaxed font-sans flex flex-col;
	}

	main {
		@apply max-w-3xl mx-auto min-h-[70vh] py-12 px-4;
	}

	/* タイポグラフィ */
	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		@apply my-6 text-text-primary leading-tight;
	}

	h1 {
		@apply text-3xl;
	}

	h2 {
		@apply text-2xl;
	}

	h3 {
		@apply text-xl;
	}

	h4 {
		@apply text-lg;
	}

	h5 {
		@apply text-base;
	}

	p {
		@apply text-base;
	}

	/* リンク */
	a {
		@apply text-accent-active;
	}

	a:hover {
		@apply text-accent-hover;
	}

	a:visited {
		@apply text-accent-active;
	}

	/* フォーカス状態 */
	a:focus-visible {
		@apply outline-2 outline-accent outline-offset-2 rounded-sm;
	}

	button:focus-visible,
	input:focus-visible,
	textarea:focus-visible,
	select:focus-visible {
		@apply outline-2 outline-accent outline-offset-2;
	}

	/* リスト */
	ul,
	ol {
		@apply my-4 pl-8;
	}

	ul {
		@apply list-disc list-outside;
	}

	ol {
		@apply list-decimal list-outside;
	}

	li {
		@apply mb-2 leading-relaxed;
	}

	ul ul,
	ol ol,
	ul ol,
	ol ul {
		@apply my-2;
	}

	/* 水平線 */
	hr {
		@apply border-none border-t border-border;
	}

	/* blockquote */
	blockquote {
		@apply border-l-4 border-accent bg-bg-card px-6 py-4 my-6 rounded;
	}

	blockquote p {
		@apply my-2;
	}

	blockquote p:first-child {
		@apply mt-0;
	}

	blockquote p:last-child {
		@apply mb-0;
	}

	/* コードブロック */
	pre {
		@apply my-6 p-5 rounded-lg overflow-x-auto;
		background-color: #1e1e1e !important;
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
	}

	pre code {
		@apply font-mono text-sm leading-relaxed p-0 bg-transparent;
		color: #e1e4e8;
	}

	pre code .line {
		@apply min-h-[1rem];
	}

	/* インラインコード */
	code {
		@apply font-mono text-sm bg-bg-card rounded text-accent-muted px-1.5 py-0.5;
	}
}

/* ==========================================
   コンポーネント
   ========================================== */
@layer components {
	.content-width {
		@apply max-w-3xl mx-auto;
	}

	/* 脚注（Markdown自動生成） */
	.footnotes {
		@apply mt-12 pt-8 border-t border-border text-sm text-text-secondary;
	}

	.footnotes ol {
		@apply pl-8 my-4;
	}

	.footnotes li {
		@apply mb-3 leading-relaxed;
	}

	.footnotes li p {
		@apply inline text-sm;
	}

	.footnotes .data-footnote-backref {
		@apply ml-1 no-underline font-bold hover:underline;
	}
}

/* ==========================================
   ユーティリティ
   ========================================== */
@layer utilities {
	.visually-hidden {
		@apply sr-only;
	}
}
